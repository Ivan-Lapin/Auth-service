# Auth-service

Сервис для управления аутентификацией пользователей: регистрация и логин с использованием JWT.  

## Описание

Сервис предоставляет API для регистрации новых пользователей и последующего входа. Пароли пользователей хранятся в базе в зашифрованном виде (bcrypt). Для авторизации используется JWT — JSON Web Token с временем жизни 2 часа.  

Обработка ошибок охватывает ключевые случаи: существующий пользователь при регистрации, неверный пароль, отсутствующий пользователь и прочее.  

## Технологии и инструменты

- Язык программирования: Go  
- API: REST (HTTP)  
- База данных: PostgreSQL (sqlx)  
- Миграции: golang-migrate  
- JWT: github.com/golang-jwt/jwt/v5  
- Логирование: zap.Logger  
- Тесты: unit-тесты для основных сервисных функций  
- Контейнеризация: Docker, docker-compose  
- CORS поддержка  

## Структура проекта

- `cmd/auth` — точка входа (main.go)  
- `internal/config` — загрузка конфигурации и установка логгера  
- `internal/domain` — модель пользователя с безопасным хранением пароля (bcrypt)  
- `internal/application` — бизнес-логика регистрации и аутентификации  
- `internal/infrastructure` — интерфейс работы с БД и миграциями  
- `internal/interfaces/web` — HTTP обработчики запросов и маршрутизация  
- `pkg/jwt` — утилиты для создания и проверки JWT токенов  
- `migrations` — SQL миграции для создания таблиц в БД  

## Запуск с Docker

Для запуска сервиса локально с базой PostgreSQL используйте docker-compose:  

docker-compose up --build


## Эндпоинты

- `POST /api/register` — регистрация нового пользователя (имя, email, пароль)  
- `POST /api/login` — аутентификация (возвращает JWT токен)  

## Логирование и мониторинг

- Логи работы сервиса записываются через zap.Logger на уровне info и error.  

---

# Контакты

Автор: Лапин Иван  
GitHub: [https://github.com/Ivan-Lapin](https://github.com/Ivan-Lapin)  
